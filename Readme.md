## Учебный проект телеграмм бота
_это учебный проект созданный для знакомства с технологиями создания ботов на python._

##### Знания полученные в ходе работы над ботом:
 - telebot(`pyTelegramBotAPI`) - знакомство с библиотекой, работа с сообщениями, сосздание кнопок;
 - работа с файлами `txt`, `csv`, `xlsx` - запись/чтение, поиск и структурирование данных;
 - парсинг - поиск и извлечение нужной информации на сайте, работа с запросами/обработка ответов, извлечение информации из json (`requests`, `BeautifulSoup`)

##### Суть работы бота
Бот предназначен для помощи в создании миксов табака для кальяна, а также поиска нужных вкусов. Он состоит из 2х частей: парсер, собирающий информацию о популярности табаков; непосредственно бот, для работы с пользователями.
##### Что умеет бот `mix_bot_v1.py`
1. `Подбор миксов` - в базе бота имеется список миксов состоящих из нескольких вкусов табаков (от 2х до 6ти), при вводе нескольких вкусов, бот подбирает миксы с этими вкусами.
2. `Топ 100` - выводит 10 лучших табаков
3. `Топ Брендов` - выводит 10 лучших брендов, производителей тадака для кальяна.
4. `Алфавитный справочник` - бот может вывести лучшие табаки по определенному вкусу, если его ввести вручную или выбрать через алфавитный справочник: после вызова справочника, появляется панель с буквами алфавита, при нажатии на одну из которых, выводится список всех вкусов, начинающихся на эту букву, из базы вкусов. 

##### Парсинг
Весь парсинг осуществляется с сайта [htreviews.org](https://htreviews.org/), в частности:
- топ 100 лучших табаков (`pars_top100.py`)
- топ лучших брендов табаков (`pars_top_brand.py`)
- топ табаков по каждому вкусу из каталога (`pard_flavors.py`) - сохранение происходит в xlsx таблицу, с разделением на листы по каждому вкусу.

> При парсинге извлекается информация о названии, бренде, рейтинге и количестве оценок. НО так как сортировка по рейтингу на сайте, не всегда работает корректно, то был добавлен пересчет рейтинга с учетом, количества оценок.

Весь парсинг запускается из `parser_all.py` 
